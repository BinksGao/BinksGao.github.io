<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>对于 MVVM 的理解 | Binks の Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/images/favicon.ico">
    <meta name="description" content="Binks の Blog">
    <link rel="preload" href="/assets/css/0.styles.5278ec6f.css" as="style"><link rel="preload" href="/assets/js/app.79c4ef9b.js" as="script"><link rel="preload" href="/assets/js/2.62e03d70.js" as="script"><link rel="preload" href="/assets/js/23.c9bb7e11.js" as="script"><link rel="prefetch" href="/assets/js/10.2b9ec67f.js"><link rel="prefetch" href="/assets/js/11.97b90e53.js"><link rel="prefetch" href="/assets/js/12.92e99fae.js"><link rel="prefetch" href="/assets/js/13.d6010d2b.js"><link rel="prefetch" href="/assets/js/14.2bd827e2.js"><link rel="prefetch" href="/assets/js/15.a4bed71d.js"><link rel="prefetch" href="/assets/js/16.0a4c23bf.js"><link rel="prefetch" href="/assets/js/17.990b8886.js"><link rel="prefetch" href="/assets/js/18.10eb592c.js"><link rel="prefetch" href="/assets/js/19.a857fa1d.js"><link rel="prefetch" href="/assets/js/20.bf3a85a3.js"><link rel="prefetch" href="/assets/js/21.eb0b8747.js"><link rel="prefetch" href="/assets/js/22.163a2ab8.js"><link rel="prefetch" href="/assets/js/24.7baf5745.js"><link rel="prefetch" href="/assets/js/25.22305377.js"><link rel="prefetch" href="/assets/js/26.1f9a22f1.js"><link rel="prefetch" href="/assets/js/27.3f4612a4.js"><link rel="prefetch" href="/assets/js/28.d627a50b.js"><link rel="prefetch" href="/assets/js/29.acd9ae0a.js"><link rel="prefetch" href="/assets/js/3.f32212ed.js"><link rel="prefetch" href="/assets/js/30.16430b08.js"><link rel="prefetch" href="/assets/js/31.cb714c34.js"><link rel="prefetch" href="/assets/js/32.d4266de2.js"><link rel="prefetch" href="/assets/js/33.985bba62.js"><link rel="prefetch" href="/assets/js/4.34866f2f.js"><link rel="prefetch" href="/assets/js/5.d8740383.js"><link rel="prefetch" href="/assets/js/6.fc12b4c6.js"><link rel="prefetch" href="/assets/js/7.e3565c63.js"><link rel="prefetch" href="/assets/js/8.02f836d8.js"><link rel="prefetch" href="/assets/js/9.8b0a1d5b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5278ec6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Binks の Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/" class="nav-link router-link-active">
  前端篇
</a></li><li class="dropdown-item"><!----> <a href="/backstage/" class="nav-link">
  后端篇
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/BinksGao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/" class="nav-link router-link-active">
  前端篇
</a></li><li class="dropdown-item"><!----> <a href="/backstage/" class="nav-link">
  后端篇
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/BinksGao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端篇</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/javascript/常用代码段.html" class="sidebar-link">常用代码段</a></li><li><a href="/frontend/javascript/vue面试题.html" class="active sidebar-link">Vue面试题汇总</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#对于-mvvm-的理解" class="sidebar-link">对于 MVVM 的理解</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#vue-的优缺点" class="sidebar-link">Vue 的优缺点</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#路由" class="sidebar-link">路由</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#vue-跨域" class="sidebar-link">vue 跨域</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#数据传递" class="sidebar-link">数据传递</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#vue-中的-css" class="sidebar-link">Vue 中的 CSS</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#vue-cli-如何新增自定义指令" class="sidebar-link">vue-cli 如何新增自定义指令</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#自定义一个过滤器" class="sidebar-link">自定义一个过滤器</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#单向数据流" class="sidebar-link">单向数据流</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#props-验证" class="sidebar-link">props 验证</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#双向绑定原理" class="sidebar-link">双向绑定原理</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#v-model" class="sidebar-link">v-model</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#axios" class="sidebar-link">axios</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#路由守卫" class="sidebar-link">路由守卫</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#vue-data-重置" class="sidebar-link">vue data 重置</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#事件修饰符" class="sidebar-link">事件修饰符</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#vue-中的-key" class="sidebar-link">Vue 中的 key</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#slot-插槽" class="sidebar-link">slot 插槽</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#处理边界情况" class="sidebar-link">处理边界情况</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#过渡动画" class="sidebar-link">过渡动画</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#混入-mixin" class="sidebar-link">混入 mixin</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#keep-alive" class="sidebar-link">keep-alive</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#计算属性和-watch" class="sidebar-link">计算属性和 watch</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#全局变量和全局方法" class="sidebar-link">全局变量和全局方法</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#检测数组变化" class="sidebar-link">检测数组变化</a></li><li class="sidebar-sub-header"><a href="/frontend/javascript/vue面试题.html#vuex" class="sidebar-link">Vuex</a></li></ul></li><li><a href="/frontend/javascript/vue自动化部署.html" class="sidebar-link">Vue项目自动化部署</a></li><li><a href="/frontend/javascript/axios.html" class="sidebar-link">Axios基础</a></li><li><a href="/frontend/javascript/面试题汇总.html" class="sidebar-link">面试题汇总</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>后端篇</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="对于-mvvm-的理解"><a href="#对于-mvvm-的理解" class="header-anchor">#</a> 对于 MVVM 的理解</h2> <p>MVVM 是 Model-View-ViewModel 的缩写。<br>
Model 代表数据模型，也可以在 Model 中定义数据修改和操作的业务逻辑。<br>
View 代表 UI 组件，它负责将数据模型转化成 UI 展现出来。<br>
ViewModel 监听模型数据的改变和控制视图行为、处理用户交互，简单理解就是一个同步 View 和 Model 的对象，连接 Model 和 View。<br>
在 MVVM 架构下，View 和 Model 之间并没有直接的联系，而是通过 ViewModel 进行交互，Model 和 ViewModel 之间的交互是双向的， 因此 View 数据的变化会同步到 Model 中，而 Model 数据的变化也会立即反应到 View 上。<br>
ViewModel 通过双向数据绑定把 View 层和 Model 层连接了起来，而 View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作 DOM, 不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。<br></p> <h2 id="vue-的优缺点"><a href="#vue-的优缺点" class="header-anchor">#</a> Vue 的优缺点</h2> <h4 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h4> <ul><li>轻量级框架：只关注视图层，是一个构建数据的视图集合，大小只有几十 kb ；</li> <li>简单易学：国人开发，中文文档，不存在语言障碍 ，易于理解和学习；</li> <li>双向数据绑定：保留了 angular 的特点，在数据操作方面更为简单；</li> <li>组件化：保留了 react 的优点，实现了 html 的封装和重用，在构建单页面应用方面有着独特的优势；</li> <li>视图，数据，结构分离：使数据的更改更为简单，不需要进行逻辑代码的修改，只需要操作数据就能完成相关操作；</li> <li>虚拟 DOM：dom 操作是非常耗费性能的， 不再使用原生的 dom 操作节点，极大解放 dom 操作，但具体操作的还是 dom 不过是换了另一种方式；</li> <li>运行速度更快：相比较与 react 而言，同样是操作虚拟 dom ，就性能而言， vue 存在很大的优势。</li></ul> <h4 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h4> <ul><li>不支持低版本的浏览器，最低只支持到 IE9</li> <li>不利于 SEO 的优化（如果要支持 SEO，建议通过服务端来进行渲染组件）</li> <li>第一次加载首页耗时相对长一些</li> <li>不可以使用浏览器的导航按钮需要自行实现前进、后退</li></ul> <h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <ul><li><p>创建前后 beforeCreate/created</p> <ul><li>在 beforeCreate 阶段，vue 实例的挂载元素 el 和数据对象 data 都为 undefined，还未初始化。在 created 阶段，vue 实例的数据对象有了，el 还没有。</li></ul></li> <li><p>载入前后 beforeMount/mounted</p> <ul><li>在 beforeMount 阶段，vue 实例的$el 和 data 都初始化了，但还是挂载之前未虚拟的 DOM 节点，data 尚未替换。</li> <li>在 mounted 阶段，vue 实例挂载完成，data 成功渲染。</li></ul></li> <li><p>更新前后 beforeUpdate/updated</p> <ul><li>当 data 变化时，会触发 beforeUpdate 和 updated 方法。这两个不常用，不推荐使用。</li></ul></li> <li><p>销毁前后 beforeDestory/destoryed</p> <ul><li>beforeDestory 是在 vue 实例销毁前触发，一般在这里要通过 removeEventListener 解除手动绑定的事件。实例销毁后，触发的 destroyed。</li></ul></li></ul> <h4 id="vue获取数据在哪个周期函数"><a href="#vue获取数据在哪个周期函数" class="header-anchor">#</a> vue获取数据在哪个周期函数</h4> <p>一般 created/beforeMount/mounted 皆可. 比如如果你要操作 DOM , 那肯定 mounted 时候才能操作.</p> <h4 id="created和mounted的区别"><a href="#created和mounted的区别" class="header-anchor">#</a> created和mounted的区别</h4> <p>created:在模板渲染成html前调用，即通常初始化某些属性值，然后再渲染成视图。mounted:在模板渲染成html后调用，通常是初始化页面完成后，再对html的dom节点进行一些需要的操作。</p> <h4 id="第一次页面加载会触发哪几个钩子？"><a href="#第一次页面加载会触发哪几个钩子？" class="header-anchor">#</a> 第一次页面加载会触发哪几个钩子？</h4> <p>beforeCreate， created， beforeMount， mounted</p> <h4 id="什么是-vue-生命周期？有什么作用？"><a href="#什么是-vue-生命周期？有什么作用？" class="header-anchor">#</a> 什么是 vue 生命周期？有什么作用？</h4> <p>每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做 生命周期钩子 的函数，这给了用户在不同阶段添加自己的代码的机会。（ps：生命周期钩子就是生命周期函数）例如，如果要通过某些插件操作DOM节点，如想在页面渲染完后弹出广告窗， 那我们最早可在mounted 中进行。</p> <h2 id="路由"><a href="#路由" class="header-anchor">#</a> 路由</h2> <h4 id="router-route-的区别"><a href="#router-route-的区别" class="header-anchor">#</a> router route 的区别</h4> <ul><li>1、router 是 VueRouter 的一个实例，可以理解为一个容器，或者说一种机制，它管理了一组 route。</li> <li>2、route 为当前 router 跳转对象里面可以获取 name、path、query、params 等。
route 只是进行了 URL 和函数的映射，在当接收到一个 URL 之后，去路由映射表中查找相应的函数，这个过程是由 router 来处理的。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token number">1</span>、$route<span class="token punctuation">.</span>path
    字符串，等于当前路由对象的路径，会被解析为绝对路径，如 <span class="token string">&quot;/home/news&quot;</span> 。
    <span class="token number">2</span>、$route<span class="token punctuation">.</span>params
    对象，包含路由中的动态片段和全匹配片段的键值对
    <span class="token number">3</span>、$route<span class="token punctuation">.</span>query
    对象，包含路由中查询参数的键值对。例如，对于 <span class="token operator">/</span>home<span class="token operator">/</span>news<span class="token operator">/</span>detail<span class="token operator">/</span><span class="token number">01</span><span class="token operator">?</span>favorite<span class="token operator">=</span>yes ，会得到$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>favorite <span class="token operator">==</span> <span class="token string">'yes'</span> 。
    <span class="token number">4</span>、$route<span class="token punctuation">.</span>router
    路由规则所属的路由器（以及其所属的组件）。
    <span class="token number">5</span>、$route<span class="token punctuation">.</span>matched
    数组，包含当前匹配的路径中所包含的所有片段所对应的配置参数对象。
    <span class="token number">6</span>、$route<span class="token punctuation">.</span>name
    当前路径的名字，如果没有使用具名路径，则名字为空
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="vue-的路由实现"><a href="#vue-的路由实现" class="header-anchor">#</a> Vue 的路由实现</h4> <ul><li>hash 模式
<ul><li>在浏览器中符号“#”，#以及#后面的字符称之为 hash，用 window.location.hash 读取</li> <li>特点：
<ul><li>hash 虽然在 URL 中，但不被包括在 HTTP 请求中；用来指导浏览器动作，对服务端安全无用，hash 不会重加载页面。</li> <li>hash 模式下，仅 hash 符号之前的内容会被包含在请求中</li></ul></li></ul></li> <li>history 模式
<ul><li>history 采用 HTML5 的新特性；且提供了两个新方法：pushState（），replaceState（）可以对浏览器历史记录栈进行修改，以及 popState 事件的监听到状态变更。</li> <li>history 模式下，前端的 URL 必须和实际向后端发起请求的 URL 一致</li> <li>history 模式的实现原理
<ul><li>HTML5 提供了 History API 来实现 URL 的变化,history.pushState() 和 history.repalceState()。这两个 API 可以在不进行刷新的情况下，操作浏览器的历史纪录。唯一不同的是，前者是新增一个历史记录，后者是直接替换当前的历史记录，如下所示：<br>
1、 window.history.pushState(null, null, path); <br>
2、window.history.replaceState(null, null, path);</li></ul></li> <li>history 路由模式的实现主要基于存在下面几个特性：
<ul><li>pushState 和 repalceState 两个 API 来操作实现 URL 的变化 ；</li> <li>我们可以使用 popstate 事件来监听 url 的变化，从而对页面进行跳转（渲染）；</li> <li>history.pushState() 或 history.replaceState() 不会触发 popstate 事件，这时我们需要手动触发页面跳转（渲染）</li></ul></li></ul></li> <li>abstract 模式
<ul><li>支持所有 JavaScript 运行环境，如 Node.js 服务器端。如果发现没有浏览器的 API，路由会自动强制进入这个模式.</li></ul></li></ul> <h4 id="vue-路由的钩子函数"><a href="#vue-路由的钩子函数" class="header-anchor">#</a> vue 路由的钩子函数</h4> <p>首页可以控制导航跳转，beforeEach，afterEach 等，一般用于页面 title 的修改。一些需要登录才能调整页面的重定向功能。</p> <ul><li>beforeEach 主要有 3 个参数 to，from，next：</li> <li>to：route 即将进入的目标路由对象，</li> <li>from：route 当前导航正要离开的路由</li> <li>next：function 一定要调用该方法 resolve 这个钩子。执行效果依赖 next 方法的调用参数。可以控制网页的跳转。</li></ul> <h4 id="vue-router实现路由懒加载（-动态加载路由-）"><a href="#vue-router实现路由懒加载（-动态加载路由-）" class="header-anchor">#</a> vue-router实现路由懒加载（ 动态加载路由 ）</h4> <p>第一种： vue异步组件技术 ==== 异步加载，vue-router配置路由 , 使用vue的异步组件技术 , 可以实现按需加载 .但是,这种情况下一个组件生成一个js文件。</p> <p>第二种： 路由懒加载(使用import)。</p> <p>第三种： webpack提供的require.ensure()，vue-router配置路由，使用webpack的require.ensure技术，也可以实现按需加载。这种情况下，多个路由指定相同的chunkName，会合并打包成一个js文件。</p> <h4 id="query-parmas"><a href="#query-parmas" class="header-anchor">#</a> query parmas</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'Login'</span><span class="token punctuation">,</span>params<span class="token operator">:</span><span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'leelei'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>path<span class="token operator">:</span><span class="token string">'/login'</span><span class="token punctuation">,</span>query<span class="token operator">:</span><span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token string">'leelei'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    query传参是针对path的，params传参是针对name的。
    query方式生成的url为<span class="token operator">/</span>xx<span class="token operator">?</span>id<span class="token operator">=</span>id，params方式生成的url为xx<span class="token operator">/</span>id
    使用query传参的话，会在浏览器的url栏看到传的参数类似于<span class="token keyword">get</span>请求，使用params传参的话则不会，类似于post请求。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="vue-跨域"><a href="#vue-跨域" class="header-anchor">#</a> vue 跨域</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    跨域是指一个域下的文档或脚本试图去请求另一个域下的资源<span class="token punctuation">,</span>由浏览器同源策略限制的一类请求场景。
    同源策略限制以下行为
    <span class="token number">1.</span><span class="token punctuation">)</span> Cookie、LocalStorage 和 IndexDB 无法读取
    <span class="token number">2.</span><span class="token punctuation">)</span> <span class="token constant">DOM</span> 和 Js对象无法获得
    <span class="token number">3.</span><span class="token punctuation">)</span> <span class="token constant">AJAX</span> 请求不能发送
    使用proxyTable的原理就是将域名发送给本地的服务器，再由本地的服务器去请求真正的服务器。
    proxyTable<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token string">'/'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            target<span class="token operator">:</span> <span class="token string">'http://www.xxx.cn/api'</span><span class="token punctuation">,</span> <span class="token comment">//你要访问的服务器域名</span>
            changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//允许跨域</span>
            pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string">'^/'</span><span class="token operator">:</span> <span class="token string">''</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="数据传递"><a href="#数据传递" class="header-anchor">#</a> 数据传递</h2> <h4 id="父子组件传递数据"><a href="#父子组件传递数据" class="header-anchor">#</a> 父子组件传递数据</h4> <ul><li><p>父组件向子组件传递数据
<br>通过 props</p></li> <li><p>子组件向父组件传递数据
<br>$emit 方法</p></li> <li><p>父子、隔代、兄弟组件通信
<br> EventBus</p> <ul><li><p>第一种方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
实质上EventBus是一个不具备 <span class="token constant">DOM</span> 的组件，它具有的仅仅只是它实例方法而已，因此它非常的轻便。

<span class="token comment">// 发送消息</span>
EventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span>channel<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token function">callback</span><span class="token punctuation">(</span>payload1<span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 监听接收消息</span>
EventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>channel<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token function">callback</span><span class="token punctuation">(</span>payload1<span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">)</span>

通常会用到，在vue页面销毁时，同时移除EventBus事件监听。EventBus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'aMsg'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>第二种方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
这种方式初始化的EventBus是一个全局的事件总线
它的工作原理是发布<span class="token operator">/</span>订阅方法，通常称为 Pub<span class="token operator">/</span>Sub
<span class="token keyword">var</span> EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    $bus<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> EventBus
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul></li> <li><p>隔代组件通信
<br> provide / inject
<br> 祖先组件中通过 provider 来提供变量，然后在子孙组件中通过 inject 来注入变量。</p></li> <li><p>Vuex 适用于 父子、隔代、兄弟组件通信</p></li></ul> <h2 id="vue-中的-css"><a href="#vue-中的-css" class="header-anchor">#</a> Vue 中的 CSS</h2> <h4 id="v-show-和-v-if-指令的共同点和不同点"><a href="#v-show-和-v-if-指令的共同点和不同点" class="header-anchor">#</a> v-show 和 v-if 指令的共同点和不同点</h4> <ul><li>共同点： 都能控制元素的显示和隐藏；</li> <li>不同点： 实现本质方法不同，v-show 本质就是通过控制 css 中的 display 设置为 none ，控制隐藏，只会编译一次；v-if 是动态的向 DOM 树内添加或者删除 DOM 元素，若初始值为 false ，就不会编译了。而且 v-if 不停的销毁和创建比较消耗性能。总结：如果要频繁切换某节点，使用 v-show (切换开销比较小，初始开销较大)。如果不需要频繁切换某节点使用 v-if（初始渲染开销较小，切换开销比较大）</li></ul> <h4 id="如何让-css-只在当前组件中起作用"><a href="#如何让-css-只在当前组件中起作用" class="header-anchor">#</a> 如何让 CSS 只在当前组件中起作用</h4> <ul><li>在组件中的 style 前面加上 scoped</li></ul> <h4 id="如何获取-dom"><a href="#如何获取-dom" class="header-anchor">#</a> 如何获取 dom</h4> <ul><li>ref=&quot;domName&quot; 用法：this.$refs.domName</li></ul> <h4 id="为什么使用-key"><a href="#为什么使用-key" class="header-anchor">#</a> 为什么使用 key</h4> <p>需要使用 key 来给每个节点做一个唯一标识， Diff 算法就可以正确的识别此节点。作用主要是为了高效的更新虚拟 DOM</p> <h4 id="class-与-style-如何动态绑定？"><a href="#class-与-style-如何动态绑定？" class="header-anchor">#</a> Class 与 Style 如何动态绑定？</h4> <p>Class 可以通过对象语法和数组语法进行动态绑定：
对象语法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ active: isActive, 'text-danger': hasError }&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

data<span class="token operator">:</span> <span class="token punctuation">{</span>
  isActive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  hasError<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>数组语法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;[isActive ? activeClass : '', errorClass]&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

data<span class="token operator">:</span> <span class="token punctuation">{</span>
  activeClass<span class="token operator">:</span> <span class="token string">'active'</span><span class="token punctuation">,</span>
  errorClass<span class="token operator">:</span> <span class="token string">'text-danger'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Style 也可以通过对象语法和数组语法进行动态绑定：
对象语法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ color: activeColor, fontSize: fontSize + 'px' }&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

data<span class="token operator">:</span> <span class="token punctuation">{</span>
  activeColor<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
  fontSize<span class="token operator">:</span> <span class="token number">30</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>数组语法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;[styleColor, styleSize]&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

data<span class="token operator">:</span> <span class="token punctuation">{</span>
  styleColor<span class="token operator">:</span> <span class="token punctuation">{</span>
     color<span class="token operator">:</span> <span class="token string">'red'</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  styleSize<span class="token operator">:</span><span class="token punctuation">{</span>
     fontSize<span class="token operator">:</span><span class="token string">'23px'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="vue-cli-如何新增自定义指令"><a href="#vue-cli-如何新增自定义指令" class="header-anchor">#</a> vue-cli 如何新增自定义指令</h2> <ul><li>指令定义对象可以提供如下的钩子
<ul><li>bind：只调用一次，指令第一次绑定到元素时调用。</li> <li>inserted：被绑定元素插入父节点时调用</li> <li>update：所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。</li> <li>componentUpdated：指令所在组件的 VNode 及其子 VNode 全部更新后调用。</li> <li>unbind：只调用一次，指令与元素解绑时调用。</li></ul></li></ul> <h4 id="创建局部指令"><a href="#创建局部指令" class="header-anchor">#</a> 创建局部指令</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 创建指令(可以多个)</span>
  directives<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 指令名称</span>
    dir1<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 指令中第一个参数是当前使用指令的DOM</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 对DOM进行操作</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">&quot;200px&quot;</span><span class="token punctuation">;</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">&quot;200px&quot;</span><span class="token punctuation">;</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">&quot;#000&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="创建全局指令"><a href="#创建全局指令" class="header-anchor">#</a> 创建全局指令</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;dir2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="指令的使用"><a href="#指令的使用" class="header-anchor">#</a> 指令的使用</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div v<span class="token operator">-</span>dir1<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div v<span class="token operator">-</span>dir2<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="自定义一个过滤器"><a href="#自定义一个过滤器" class="header-anchor">#</a> 自定义一个过滤器</h2> <p>html 代码</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  {{msg| capitalize }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>js 代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    msg<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  filters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">capitalize</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>全局定义过滤器</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">&quot;capitalize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="单向数据流"><a href="#单向数据流" class="header-anchor">#</a> 单向数据流</h2> <ul><li>所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定</li> <li>父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态</li> <li>每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。</li> <li>子组件将接收到的 props 数据保存在本地使用</li> <li>以原始数据传入的 props 数据需要进行转换</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    value<span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      currentValue<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//如果是对 prop 值的转换，可以使用计算属性：</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">normalizedSize</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="props-验证"><a href="#props-验证" class="header-anchor">#</a> props 验证</h2> <ul><li>prop 指定验证要求</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    props<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token punctuation">{</span>
            type<span class="token operator">:</span> String<span class="token punctuation">,</span>
            required<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        title<span class="token operator">:</span> <span class="token punctuation">{</span>
            type<span class="token operator">:</span> String<span class="token punctuation">,</span>
            required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'标题'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="双向绑定原理"><a href="#双向绑定原理" class="header-anchor">#</a> 双向绑定原理</h2> <ul><li>双向绑定得的实现主要依赖于 Object.defineProperty(),通过这个函数可以监听到 get,set 事件</li> <li>observer 是最主要的部分，用 Object.defineProperty 来实现数据的劫持，然后用他的 set,get 方法来通知订阅者，触发 update 方法，从而实现更新视图</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;txt&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">&quot;show&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> obj
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> newValue
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'show'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> newValue
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span>txt <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="v-model"><a href="#v-model" class="header-anchor">#</a> v-model</h2> <ul><li>v-model 本质上就是语法糖，即利用 v-model 绑定数据后，其实就是既绑定了数据，又添加了一个 input 事件监听</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;searchText&quot;</span><span class="token operator">&gt;</span>
    等价于<span class="token operator">:</span>
    <span class="token operator">&lt;</span>input
        v<span class="token operator">-</span>bind<span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;searchText&quot;</span>
        v<span class="token operator">-</span>on<span class="token operator">:</span>input<span class="token operator">=</span><span class="token string">&quot;searchText = $event.target.value&quot;</span>
    <span class="token operator">&gt;</span>
    在组件上使用v<span class="token operator">-</span>model时， 必须
    <span class="token operator">&lt;</span>custom<span class="token operator">-</span>input
        v<span class="token operator">-</span>bind<span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;searchText&quot;</span>
        v<span class="token operator">-</span>on<span class="token operator">:</span>input<span class="token operator">=</span><span class="token string">&quot;searchText = $event&quot;</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>custom<span class="token operator">-</span>input<span class="token operator">&gt;</span>
    为了让它正常工作，这个组件内的 <span class="token operator">&lt;</span>input<span class="token operator">&gt;</span> 必须：

    将其 value attribute 绑定到一个名叫 value 的 prop 上
    在其 input 事件被触发时，将新的值通过自定义的 input 事件抛出
    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'custom-input'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;input
        v-bind:value=&quot;value&quot;
        v-on:input=&quot;$emit('input', $event.target.value)&quot;
        &gt;
    </span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="原生实现v-model"><a href="#原生实现v-model" class="header-anchor">#</a> 原生实现v-model</h4> <ul><li>双向绑定得的实现主要依赖于Object.defineProperty(),通过这个函数可以监听到get,set事件</li> <li>observer是最主要的部分，用Object.defineProperty来实现数据的劫持，然后用他的set,get方法来通知订阅者，触发update方法，从而实现更新视图</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;txt&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">&quot;show&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'txt'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> obj
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> newValue
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'show'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> newValue
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        obj<span class="token punctuation">.</span>txt <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h2> <ul><li>Axios 是一个基于 promise 的 HTTP 库，支持promise所有的API</li> <li>浏览器端/node 端都可以使用，浏览器中创建XMLHttpRequests 服务端用http</li> <li>它可以拦截请求和响应</li> <li>它可以转换请求数据和响应数据，并对响应回来的内容自动转换成 JSON类型的数据</li> <li>安全性更高，客户端支持防御 XSRF</li></ul> <p>axios常用的方法</p> <ul><li>axios.get(url[, config])</li> <li>axios.delete(url[, config])</li> <li>axios.post(url[, data[, config]])</li> <li>axios.put(url[, data[, config]])</li></ul> <p>axios和ajax的区别</p> <ul><li>Ajax 是一种用于创建快速动态网页的技术</li> <li>Ajax 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术</li> <li>通过在后台与服务器进行少量数据交换，Ajax 可以使网页实现异步更新。</li></ul> <p>axios拦截器</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// http request 拦截器</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 判断是否存在token，如果存在的话，则每个http header都加上token</span>
      config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>authorization <span class="token operator">=</span> token  <span class="token comment">//请求头加上token</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// http response 拦截器</span>
instance<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//拦截响应，做统一处理 </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">1002</span><span class="token operator">:</span>
          store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>isLogin <span class="token operator">=</span> <span class="token boolean">false</span>
          router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            path<span class="token operator">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span>
            query<span class="token operator">:</span> <span class="token punctuation">{</span>
              redirect<span class="token operator">:</span> router<span class="token punctuation">.</span>currentRoute<span class="token punctuation">.</span>fullPath
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> response
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//接口错误状态处理，也就是说无响应时的处理</span>
  <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token comment">// 返回接口返回的错误信息</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> defaults<span class="token punctuation">.</span>adapter <span class="token operator">=</span> <span class="token function">getDefaultAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getDefaultAdapter</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> adapter<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> XMLHttpRequest <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token comment">// 浏览器环境</span>
        adapter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./adapter/xhr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> process <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token comment">// node环境</span>
        adapter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./adapter/http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token keyword">return</span> adapter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="路由守卫"><a href="#路由守卫" class="header-anchor">#</a> 路由守卫</h2> <ul><li>导航守卫主要用来通过跳转或取消的方式守卫导航。</li> <li>router.beforeEach 潜质导航守卫</li> <li>守卫是异步解析执行，此时导航在所有守卫 resolve 完之前一直处于 等待中</li> <li>进行全局拦截，比如必须满足某种条件（用户登录等）才能进入路由的情况
<ul><li>三个参数
<ul><li>to:即将要进入的目标路由对象</li> <li>from:当前导航即将要离开的路由对象</li> <li>next ：调用该方法后，才能进入下一个钩子函数</li></ul></li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//我在这里模仿了一个获取用户信息的方法</span>
  <span class="token keyword">let</span> isLogin <span class="token operator">=</span> window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isLogin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//如果用户信息存在则往下执行。</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//如果用户token不存在则跳转到login页面</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">'/login'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="vue-data-重置"><a href="#vue-data-重置" class="header-anchor">#</a> vue data 重置</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    使用Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。
    用法： Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token operator">...</span>sources<span class="token punctuation">)</span>
    第一个参数是目标对象，第二个参数是源对象，就是将源对象属性复制到目标对象，返回目标对象
    vue中：
    <span class="token keyword">this</span><span class="token punctuation">.</span>$data 获取当前状态下的data
    <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 获取该组件初始状态下的data
    所以，下面就可以将初始状态的data复制到当前状态的data，实现重置效果：
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$data<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    当然，如果你只想重置data中的某一个对象或者属性：
    <span class="token keyword">this</span><span class="token punctuation">.</span>form <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>form

    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">)</span>可以用来合并对象
    <span class="token keyword">const</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> o3 <span class="token operator">=</span> <span class="token punctuation">{</span> c<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">,</span> o3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 1, b: 2, c: 3 }</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// { a: 1, b: 2, c: 3 }, 注意目标对象自身也会改变。</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="事件修饰符"><a href="#事件修饰符" class="header-anchor">#</a> 事件修饰符</h2> <ul><li>.stop 等同于 JavaScript 中的 event.stopPropagation()，防止事件冒泡</li> <li>.prevent 等同于 JavaScript 中的 event.preventDefault()，防止执行预设的行为</li> <li>.capture 与事件冒泡的方向相反，事件捕获由外到内</li> <li>.self：只会触发自己范围内的事件，不包含子元素</li> <li>.once：只会触发一次</li> <li>.native 监听一个原生事件</li> <li>.sync 会被扩展为一个自动更新父组件属性的 v-on 监听器。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    子组件向父组件传递数据
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:title'</span><span class="token punctuation">,</span> newTitle<span class="token punctuation">)</span>
    父组件接收数据
    <span class="token operator">&lt;</span>text<span class="token operator">-</span>document
      <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
      @update<span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;val =&gt; title = val&quot;</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">-</span>document<span class="token operator">&gt;</span>

    <span class="token punctuation">.</span>sync的简单写法
    <span class="token operator">&lt;</span>text<span class="token operator">-</span>document
      <span class="token operator">:</span>title<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">&quot;title&quot;</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">-</span>document<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="vue-中的-key"><a href="#vue-中的-key" class="header-anchor">#</a> Vue 中的 key</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    key 的特殊属性主要用在 Vue 的虚拟 <span class="token constant">DOM</span> 算法，在新旧 nodes 对比时辨识 VNodes。如果不使用 key，Vue 会使用一种最大限度减少动态元素并且尽可能的尝试就地修改<span class="token operator">/</span>复用相同类型元素的算法。而使用 key 时，它会基于 key 的变化重新排列元素顺序，并且会移除 key 不存在的元素。
    <span class="token number">1</span>、input中的key
    如果你允许用户在不同的登录方式之间切换：将不会清除用户已经输入的内容。因为两个模板使用了相同的元素，<span class="token operator">&lt;</span>input<span class="token operator">&gt;</span> 不会被替换掉——仅仅是替换了它的 placeholder
    只需添加一个具有唯一值的 key 属性即可表达“这两个元素是完全独立的，不要复用它们”
    <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;loginType === 'username'&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>Username<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>input placeholder<span class="token operator">=</span><span class="token string">&quot;Enter your username&quot;</span> key<span class="token operator">=</span><span class="token string">&quot;username-input&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>Email<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input placeholder<span class="token operator">=</span><span class="token string">&quot;Enter your email address&quot;</span> key<span class="token operator">=</span><span class="token string">&quot;email-input&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token number">2</span>、 v<span class="token operator">-</span><span class="token keyword">for</span>中的key
    有相同父元素的子元素必须有独特的 key。重复的 key 会造成渲染错误。
    为了给 Vue 一个提示，以便它能跟踪每个节点的身份，从而重用和重新排序现有元素，你需要为每项提供一个唯一 key 属性
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="slot-插槽"><a href="#slot-插槽" class="header-anchor">#</a> slot 插槽</h2> <ul><li><p>slot 元素作为承载分发内容的出口。</p></li> <li><p>父组件需要在子组件内放一些 DOM，那么这些 DOM 是显示、不显示、在哪个地方显示、如何显示，就是 slot 分发负责的活。</p></li> <li><p>在父组件中，子组件标签里内套的内容，是不显示的。</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>//子组件
&lt;template&gt;
    &lt;div&gt;
        &lt;h3&gt;我是子组件&lt;/h3&gt;
    &lt;/div&gt;
&lt;/template&gt;
//父组件
&lt;template&gt;
  &lt;div&gt;
      //hello不显示
      &lt;v-child&gt;hello&lt;/v-child&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>使用 slot 标签，就可以将父组件放在子组件标签里的内容，放到想让他显示的地方。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>//子组件
&lt;template&gt;
    &lt;div&gt;
        &lt;h3&gt;我是子组件&lt;/h3&gt;
        &lt;slot&gt;&lt;/slot&gt;//加了个slot标签，在父组件中，就可以让子组件标签内的内容显示啦
    &lt;/div&gt;
&lt;/template&gt;
//父组件
&lt;template&gt;
  &lt;div&gt;
      //hello显示
      &lt;v-child&gt;hello&lt;/v-child&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    子组件模版
    <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>

    父组件引用子组件
    <span class="token operator">&lt;</span>navigation<span class="token operator">-</span>link url<span class="token operator">=</span><span class="token string">&quot;/profile&quot;</span><span class="token operator">&gt;</span>
      Your Profile
    <span class="token operator">&lt;</span><span class="token operator">/</span>navigation<span class="token operator">-</span>link<span class="token operator">&gt;</span>

    当组件渲染的时候，<span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span> 将会被替换为“Your Profile”。插槽内可以包含任何模板代码，包括 <span class="token constant">HTML</span>：
    <span class="token operator">&lt;</span>navigation<span class="token operator">-</span>link url<span class="token operator">=</span><span class="token string">&quot;/profile&quot;</span><span class="token operator">&gt;</span>
      Your Profile
    <span class="token operator">&lt;</span><span class="token operator">/</span>navigation<span class="token operator">-</span>link<span class="token operator">&gt;</span>

    甚至其他的组件
    <span class="token operator">&lt;</span>navigation<span class="token operator">-</span>link url<span class="token operator">=</span><span class="token string">&quot;/profile&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 添加一个图标的组件 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>font<span class="token operator">-</span>awesome<span class="token operator">-</span>icon name<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>font<span class="token operator">-</span>awesome<span class="token operator">-</span>icon<span class="token operator">&gt;</span>
      Your Profile
    <span class="token operator">&lt;</span><span class="token operator">/</span>navigation<span class="token operator">-</span>link<span class="token operator">&gt;</span>
    如果 <span class="token operator">&lt;</span>navigation<span class="token operator">-</span>link<span class="token operator">&gt;</span> 没有包含一个 <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span> 元素，则该组件起始标签和结束标签之间的任何内容都会被抛弃。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li>插槽可以访问模版的相同实例属性，但是不能访问其实例的作用域</li> <li>父级模板里的所有内容都是在父级作用域中编译的；</li> <li>子模板里的所有内容都是在子作用域中编译的。</li> <li>后备内容</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>子组件<span class="token operator">:</span> <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
具有后备内容的子组件<span class="token operator">:</span> <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
父组件<span class="token operator">:</span> <span class="token operator">&lt;</span>submit<span class="token operator">-</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>submit<span class="token operator">-</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
后备内容会被渲染<span class="token operator">:</span> <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
如果父组件提供内容<span class="token operator">:</span> <span class="token operator">&lt;</span>submit<span class="token operator">-</span>button<span class="token operator">&gt;</span>Save<span class="token operator">&lt;</span><span class="token operator">/</span>submit<span class="token operator">-</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
则新的button会被渲染<span class="token operator">:</span> <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>Save<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="处理边界情况"><a href="#处理边界情况" class="header-anchor">#</a> 处理边界情况</h2> <ul><li>$root
<ul><li>在每个 new Vue 实例的子组件中，其根实例可以通过 $root 属性进行访问</li></ul></li> <li>$parent
<ul><li>可以用来从一个子组件访问父组件的实例</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>$data<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>$refs
<ul><li>父组件可以通过$refs 访问子组件的实例</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>$data<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="过渡动画"><a href="#过渡动画" class="header-anchor">#</a> 过渡动画</h2> <ul><li><p>transition 动画</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token operator">&lt;</span>transition name<span class="token operator">=</span><span class="token string">&quot;fade&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;show&quot;</span><span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>transition<span class="token operator">&gt;</span>

    <span class="token punctuation">.</span>fade<span class="token operator">-</span>enter<span class="token operator">-</span>active<span class="token punctuation">,</span> <span class="token punctuation">.</span>fade<span class="token operator">-</span>leave<span class="token operator">-</span>active <span class="token punctuation">{</span>
      transition<span class="token operator">:</span> opacity <span class="token number">.5</span>s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>fade<span class="token operator">-</span>enter<span class="token punctuation">,</span> <span class="token punctuation">.</span>fade<span class="token operator">-</span>leave<span class="token operator">-</span>to <span class="token comment">/* .fade-leave-active below version 2.1.8 */</span> <span class="token punctuation">{</span>
      opacity<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>常用的 6 个动画切换</p> <ul><li>v-enter：定义进入过渡的开始状态。</li> <li>v-enter-active：定义进入过渡生效时的状态。</li> <li>v-enter-to：定义进入过渡的结束状态。</li> <li>v-leave：定义离开过渡的开始状态。</li> <li>v-leave-active：定义离开过渡生效时的状态。</li> <li>v-leave-to：定义离开过渡的结束状态。</li></ul></li></ul> <ul><li>可以通过 appear attribute 设置节点在初始渲染的过渡<div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;transition appear&gt;
  &lt;!-- ... --&gt;
&lt;/transition&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h2 id="混入-mixin"><a href="#混入-mixin" class="header-anchor">#</a> 混入 mixin</h2> <ul><li>来分发 Vue 组件中的可复用功能。一个混入对象可以包含任意组件选项。当组件使用混入对象时，所有混入对象的选项将被“混合”进入该组件本身的选项。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个混入对象</span>
<span class="token keyword">var</span> myMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">created</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">hello</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello from mixin!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 定义一个使用混入对象的组件</span>
<span class="token keyword">var</span> Component <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mixins<span class="token operator">:</span> <span class="token punctuation">[</span>myMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Component</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; &quot;hello from mixin!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="keep-alive"><a href="#keep-alive" class="header-anchor">#</a> keep-alive</h2> <ul><li>Vue 内置的组件, 可以使被包含的组件保留状态，或避免重新渲染</li> <li>include(包含的组件缓存) 与 exclude(排除的组件不缓存，优先级大于 include)</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive include<span class="token operator">=</span><span class="token string">'include_components'</span> exclude<span class="token operator">=</span><span class="token string">'exclude_components'</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>component<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 该组件是否缓存取决于include和exclude属性 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="计算属性和-watch"><a href="#计算属性和-watch" class="header-anchor">#</a> 计算属性和 watch</h2> <p>watch用于监听数据变化，其中可以监听的数据来源有三部分：props、data、computed内的数据；
watch提供两个参数（newValue，oldValue），第一个参数是新值，第二个参数保存旧值；</p> <p>computed用于处理复杂的逻辑运算，主要和methods储存方法来进行区分；
methods储存方法，，computed储存需要处理的数据值；
methods每次都会调用，computed有缓存机制，只有改变时才执行，性能更佳；</p> <p>computed 和 watch 都可以观察页面的数据变化</p> <p>计算属性computed :
.优点： 在数据未发生变化时，优先读取缓存。只有在相关的数据发生变化时才会改变要计算的属性，当相关数据没有变化是，它会读取缓存。
setter 和 getter方法</p> <ol><li><p>支持缓存，只有依赖数据发生改变，才会重新进行计算</p></li> <li><p>不支持异步，当computed内有异步操作时无效，无法监听数据的变化</p></li></ol> <p>3.computed 属性值会默认走缓存，计算属性是基于它们的响应式依赖进行缓存的，也就是基于data中声明过的数据通过计算得到的</p> <ol start="4"><li>如果一个属性是由其他属性计算而来的，这个属性依赖其他属性，是一个多对一或者一对一，一般用computed</li></ol> <p>5.如果computed属性属性值是函数，那么默认会走get方法；函数的返回值就是属性的属性值；在computed中的，属性都有一个get和一个set方法，当数据变化时，调用set方法。</p> <p>侦听属性watch：
当需要在数据变化时执行异步或开销较大的操作时</p> <ol><li>不支持缓存，数据变，直接会触发相应的操作；</li></ol> <p>2.watch支持异步；</p> <p>3.监听的函数接收两个参数，第一个参数是最新的值；第二个参数是输入之前的值；</p> <ol start="4"><li>当一个属性发生变化时，需要执行对应的操作；一对多；</li></ol> <p>总结:</p> <div class="language- extra-class"><pre><code>- 当有一些数据需要随着另外一些数据变化时，建议使用computed。
- 当有一个通用的响应数据变化的时候，要执行一些业务逻辑或异步操作的时候建议使用watcher
</code></pre></div><h2 id="全局变量和全局方法"><a href="#全局变量和全局方法" class="header-anchor">#</a> 全局变量和全局方法</h2> <h5 id="定义全局变量"><a href="#定义全局变量" class="header-anchor">#</a> 定义全局变量</h5> <p>设置一个专用的的全局变量模块文件，模块里面定义一些变量初始状态，用 export default 暴露出去，在 main.js 里面使用 Vue.prototype 挂载到 vue 实例上面或者在其它地方需要使用时，引入该模块便可。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Global<span class="token punctuation">.</span>vue文件：
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">const</span> serverSrc<span class="token operator">=</span><span class="token string">'www.baidu.com'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> token<span class="token operator">=</span><span class="token string">'12345678'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hasEnter<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> userSite<span class="token operator">=</span><span class="token string">&quot;中国钓鱼岛&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span>
  <span class="token punctuation">{</span>
    userSite<span class="token punctuation">,</span><span class="token comment">//用户地址</span>
    token<span class="token punctuation">,</span><span class="token comment">//用户token身份</span>
    serverSrc<span class="token punctuation">,</span><span class="token comment">//服务器地址</span>
    hasEnter<span class="token punctuation">,</span><span class="token comment">//用户登录状态</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li><p>使用方式 1</p> <ul><li>在需要的地方引用进全局变量模块文件，然后通过文件里面的变量名字获取全局变量参数值</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> token <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> global_ <span class="token keyword">from</span> <span class="token string">'../../components/Global'</span><span class="token comment">//引用模块进来</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
<span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
         token<span class="token operator">:</span>global_<span class="token punctuation">.</span>token<span class="token punctuation">,</span><span class="token comment">//将全局变量赋值到data里面，也可以直接使用global_.token</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;scss&quot;</span> scoped<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li> <li><p>使用方式 2</p> <ul><li>在程序入口的 main.js 文件里面，将上面那个 Global.vue 文件挂载到 Vue.prototype</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> global_ <span class="token keyword">from</span> <span class="token string">'./components/Global'</span><span class="token comment">//引用文件</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token constant">GLOBAL</span> <span class="token operator">=</span> global_<span class="token comment">//挂载到Vue实例上面</span>

<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> token <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
<span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
         token<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">GLOBAL</span><span class="token punctuation">.</span>token<span class="token punctuation">,</span><span class="token comment">//直接通过this访问全局变量。</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;scss&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul> <h2 id="检测数组变化"><a href="#检测数组变化" class="header-anchor">#</a> 检测数组变化</h2> <ul><li>由于 JavaScript 的限制，Vue 不能检测到以下数组的变动：</li> <li>当你利用索引直接设置一个数组项时，例如：vm.items[indexOfItem] = newValue</li> <li>当你修改数组的长度时，例如：vm.items.length = newLength</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 为了解决第一个问题，Vue 提供了以下操作方法</span>
<span class="token comment">// Vue.set</span>
Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>items<span class="token punctuation">,</span> indexOfItem<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// vm.$set，Vue.set的一个别名</span>
vm<span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>items<span class="token punctuation">,</span> indexOfItem<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Array.prototype.splice</span>
vm<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>indexOfItem<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Vue.set(object, propertyName, value) 方法向嵌套对象添加响应式属性</span>
<span class="token comment">// vm.$set(object, propertyName, value) 方法向嵌套对象添加响应式属性</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>// 为了解决第二个问题，Vue 提供了以下操作方法
// Array.prototype.splice
vm.items.splice(newLength)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> Vuex</h2> <h4 id="vuex是什么？怎么使用？哪种功能场景使用它？"><a href="#vuex是什么？怎么使用？哪种功能场景使用它？" class="header-anchor">#</a> vuex是什么？怎么使用？哪种功能场景使用它？</h4> <p>vue框架中状态管理。在main.js引入store，注入。</p> <p>新建了一个目录store.js，….. export 。
场景有：单页应用中，组件之间的状态。音乐播放、登录状态、加入购物车</p> <h4 id="vuex有哪几种属性？"><a href="#vuex有哪几种属性？" class="header-anchor">#</a> vuex有哪几种属性？</h4> <p>有五种，分别是 State、 Getter、Mutation 、Action、 Module</p> <ul><li>state =&gt; 基本数据(数据源存放地)</li> <li>getters =&gt; 从基本数据派生出来的数据</li> <li>mutations =&gt; 提交更改数据的方法，同步！</li> <li>actions =&gt; 像一个装饰器，包裹mutations，使之可以异步。</li> <li>modules =&gt; 模块化Vuex</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/javascript/常用代码段.html" class="prev">
        常用代码段
      </a></span> <span class="next"><a href="/frontend/javascript/vue自动化部署.html">
        Vue项目自动化部署
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.79c4ef9b.js" defer></script><script src="/assets/js/2.62e03d70.js" defer></script><script src="/assets/js/23.c9bb7e11.js" defer></script>
  </body>
</html>
